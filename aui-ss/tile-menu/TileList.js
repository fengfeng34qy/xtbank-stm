"";Object.defineProperty(exports,"__esModule",{value:!0});var _TileItem=require("./TileItem"),_TileItem2=_interopRequireDefault(_TileItem);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}exports.default={render:function anonymous(){with(this)return _c("div",{staticClass:"tile-list",style:{width:width-1+"px",height:parentHeight-1+"px",marginTop:-tileSpace+"px"}},_l(tileListData,function(t,e){return _c("tile-item",{key:e,ref:"items",refInFor:!0,attrs:{"tile-width":tileWidth,"tile-height":tileHeight,"tile-space":tileSpace,"img-src":t.icon,bgSrc:t.bg,title:t.tradeName,size:t.size,"is-enabled":t.isEnabled,"active-class-name":t.activeClass},on:{itemClicked:function(e){onMenuItemClicked(tileColumnIndex,tileGroupIndex,t)}}})}))},name:"tile-list",props:{tileListData:Array,width:Number,height:String,tileColumnIndex:Number,tileGroupIndex:Number,tileWidth:Number,tileHeight:Number,tileSpace:Number,row:Number,col:Number},data:function(){return{parentWidth:0,parentHeight:0,xValue:0,yValue:0,currentRow:1,standardWeight:4,normalWeight:0,wideWeight:0,smallWideWeight:0,smallWeight:0,countStage:0,countSum:0,weight:0,page:0,flag:!0,overCol:0}},components:{TileItem:_TileItem2.default},created:function(){this.normalWeight=this.standardWeight,this.wideWeight=2*this.standardWeight,this.smallWideWeight=this.standardWeight/2,this.smallWeight=this.standardWeight/4},mounted:function(){var t=this.$refs.items;this.setParentSize(),this.setItemPosition(t),this.sendMsgToParent()},methods:{setParentSize:function(){this.parentWidth=(this.tileWidth+this.tileSpace)*this.col,this.parentHeight=(this.tileHeight+this.tileSpace)*this.row},getItemWidth:function(t){return parseInt(window.getComputedStyle(t).width)},getItemHeight:function(t){return parseInt(window.getComputedStyle(t).height)},setItemWeight:function(t){var e=t.$props.size;"normal"===e?this.weight=this.normalWeight:"wide"===e?this.weight=this.wideWeight:"smallWide"===e?this.weight=this.smallWideWeight:"small"===e?this.weight=this.smallWeight:Array.isArray(e)&&(this.weight=e[0],this.parentHeight=e[1])},setItemPosition:function(t){for(var e=0;e<t.length;e++){var i=t[e].$el,h=this.getItemWidth(i),s=this.getItemHeight(i);if(this.setItemWeight(t[e]),0===this.countStage)i.style.left=0,i.style.top=this.tileSpace+"px",h<this.tileWidth?this.xValue=this.tileWidth:this.xValue=h,this.countStage=this.weight,this.countSum=this.col*this.standardWeight;else{var l=t[e-1].$el,a=this.getItemWidth(l),n=this.getItemHeight(l);if(this.countStage+this.weight<=this.standardWeight){1===this.countStage?this.weight===this.smallWeight?(i.style.left=this.xValue-h+"px",i.style.top=this.yValue+this.tileSpace+"px",this.countStage+=this.weight):this.weight===this.smallWideWeight&&(i.style.left=this.xValue-h+"px",i.style.top=this.yValue+this.tileSpace+n+this.tileSpace+"px",this.countStage=4):2===this.countStage?this.weight!==this.smallWeight&&this.weight!==this.smallWideWeight||(i.style.left=this.xValue-a+"px",i.style.top=this.yValue+this.tileSpace+n+this.tileSpace+"px",this.countStage+=this.weight):3===this.countStage&&this.weight===this.smallWeight&&(i.style.left=this.xValue-h+"px",i.style.top=this.yValue+this.tileSpace+s+this.tileSpace+"px",this.countStage+=this.weight);continue}var r=void 0;if(r=this.overCol?(this.tileWidth+this.tileSpace)*this.overCol:this.parentWidth,this.xValue-this.parentWidth*this.page+this.tileSpace+h<=r)i.style.left=this.xValue+this.tileSpace+"px",i.style.top=this.yValue+this.tileSpace+"px",h<this.tileWidth?this.xValue+=this.tileSpace+this.tileWidth:this.xValue+=this.tileSpace+h;else{if(this.flag&&this.countSum>=this.row*this.col*this.standardWeight){this.flag=!1;for(var o=this.weight,g=0,u=e;u<t.length;u++)this.setItemWeight(t[u]),g+=this.weight;this.overCol=Math.ceil(g/this.row/this.standardWeight),this.weight=o,this.page++,this.currentRow=0}this.flag?i.style.left=0:i.style.left=this.parentWidth+"px",i.style.top=this.tileHeight*this.currentRow+this.tileSpace*(this.currentRow+1)+"px",h<this.tileWidth?this.xValue=this.parentWidth*this.page+this.tileWidth:this.xValue=this.parentWidth*this.page+h,this.yValue=(this.tileSpace+this.tileHeight)*this.currentRow,this.currentRow++,this.countSum=this.col*this.standardWeight*this.currentRow}this.countStage=this.weight}}this.parentWidth-=this.tileSpace},sendMsgToParent:function(){this.$emit("layoutFinished",[this.overCol])},onMenuItemClicked:function(t,e,i){this.$emit("itemClicked",[t,e,i])}}};