Object.defineProperty(exports,"__esModule",{value:!0});var _utils=require("./common/utils/utils.js"),_utils2=_interopRequireDefault(_utils),_settings=require("./common/settings/settings.js"),_settings2=_interopRequireDefault(_settings),_clickoutside=require("./common/directives/clickoutside.js"),_clickoutside2=_interopRequireDefault(_clickoutside),_layerAdjustment=require("./common/mixins/layerAdjustment.js"),_layerAdjustment2=_interopRequireDefault(_layerAdjustment);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default={render:function anonymous(){with(this)return _c("dl",{directives:[{name:"click-outside",rawName:"v-click-outside",value:clickOutside,expression:"clickOutside"}],class:["v-select",sizeClass]},[_c("dt",{staticClass:"v-select-dt"},[_c("a",{staticClass:"v-select-selected",style:{width:width+"px"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),toggleItems()}}},[isInput?_c("div",[_c("input",{directives:[{name:"model",rawName:"v-model",value:inputValue,expression:"inputValue"}],staticClass:"v-select-input",attrs:{placeholder:placeholder,type:"text"},domProps:{value:inputValue},on:{input:function(e){e.target.composing||(inputValue=e.target.value)}}})]):_c("div",[_c("span",{staticClass:"v-select-selected-span"},[_v(_s(showSelectInfo()))])]),_v(" "),_c("i",{staticClass:"v-select-selected-i aui-icon-angle"})])]),_v(" "),_c("dd",{directives:[{name:"show",rawName:"v-show",value:visible,expression:"visible"}],staticClass:"v-select-dd"},[_c("ul",{staticClass:"v-select-items",style:{"min-width":width+"px","max-width":getMaxWidth+"px"}},_l(internalOptions,function(e){return _c("li",{class:["v-select-items-li",e.selected?"active":""],on:{click:function(t){t.stopPropagation(),selectOptionClick(e)}}},[_c("a",{class:["v-select-items-li-a",getTextAlignClass()],attrs:{href:"javascript:void(0);"}},[_v(_s(e.label))])])}))])])},name:"aui-table-select",mixins:[_layerAdjustment2.default],directives:{"click-outside":_clickoutside2.default},data:function(){return{visible:!1,internalOptions:[],checkboxGroupList:[],textAlignPrefix:"v-select-items-li-a-",inputValue:""}},props:{size:{type:String},width:{type:Number,default:90},maxWidth:{type:Number},isMultiple:{type:Boolean,default:!1},value:[Object,Array],placeholder:{type:String,default:"请选择",validator:function(e){return e.length>0}},textAlign:{type:String,default:"left"},min:{type:Number,default:0},max:{type:Number,default:999},isInput:{type:Boolean,default:!1}},computed:{sizeClass:function(){var e=_settings2.default.sizeMaps[this.size]||_settings2.default.sizeMapDefault;return e===_settings2.default.sizeMaps.large?" v-select--large":e===_settings2.default.sizeMaps.middle?" v-select--middle":" v-select--small"},getMaxWidth:function(){var e=1/0,t=this.maxWidth,i=this.width;return t&&t>0&&t>i&&(e=t),e}},methods:{init:function(){this.internalOptions=Object.assign([],this.value),this.checkboxGroupList=this.selectedLabels(),this.isInput&&this.setInputValue()},setInputValue:function(){var e,t;t=this.selectedLabels(),Array.isArray(t)&&t.length>0&&(e=t.join()),this.inputValue=e},checkboxGroupChange:function(){this.selectOptionClick()},toggleItems:function(){var e=this;this.visible=!this.visible,this.visible&&this.$nextTick(function(t){e.dropDownClick()})},selectOptionClick:function(e){var t=this;this.isMultiple?this.internalOptions.map(function(e){return t.checkboxGroupList.includes(e.label)?e.selected=!0:e.selected=!1,e}):this.internalOptions.map(function(t){return e.label===t.label?t.selected=!0:t.selected=!1,t}),this.isMultiple||this.toggleItems(),this.isInput&&this.setInputValue(),this.$emit("input",this.internalOptions),this.$emit("change")},showSelectInfo:function(){var e;return e=this.selectedLabels(),Array.isArray(e)&&e.length>0?e.join():this.placeholder},getTextAlignClass:function(){return this.textAlignPrefix+this.textAlign},selectedLabels:function(){return this.internalOptions.filter(function(e){return e.selected}).map(function(e){if(e.selected)return e.label})},clickOutside:function(){this.visible=!1},dropDownClick:function(){var e=this.$el.querySelector(".v-select-dt"),t=this.$el.querySelector(".v-select-items");return this.layerAdjustmentOnce(t,e,2),!1},dropdownAdjust:function(){var e=this.$el.querySelector(".v-select-dt"),t=this.$el.querySelector(".v-select-items");this.layerAdjustmentBind(t,e,2)}},created:function(){this.init()},mounted:function(){this.dropdownAdjust()},watch:{value:function(e){this.init()}}};