"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _utils=require("../utils/utils.js"),_utils2=_interopRequireDefault(_utils);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default={methods:{cellEdit:function(e,t,l,i,n){for(var s,u,a=e.target,c=this,r=void 0,d=void 0,o=void 0,f="";a.className&&-1===a.className.indexOf("v-table-body-cell")||!a.className;)a=a.parentNode;if(a.classList.contains("cell-editing"))return!1;if(a.classList.add("cell-editing"),s=a.innerText,a.style.textAlign&&(o=a.style.textAlign),a.innerHTML="<input type='text' value=\""+s+"\" class='cell-edit-input' style='width:100%;height: 100%;text-align: "+o+";'>",(r=a.querySelector(".cell-edit-input")).focus(),u=r.value.length,document.selection){var v=r.createTextRange();v.moveStart("character",u),v.collapse(),v.select()}else"number"==typeof r.selectionStart&&"number"==typeof r.selectionEnd&&(r.selectionStart=r.selectionEnd=u);d=function(e){if(void 0===e.keyCode||13==e.keyCode){if(!a.classList.contains("cell-editing"))return!1;a.classList.remove("cell-editing"),f=c.cellEditFormatter&&c.cellEditFormatter(this.value,s,l,i,n),a.innerHTML=f&&f.length>0?f:this.value,t(this.value,s),_utils2.default.unbind(r,"blur",d),_utils2.default.unbind(r,"keydown",d)}},_utils2.default.bind(r,"blur",d),_utils2.default.bind(r,"keydown",d)},cellEditClick:function(e,t,l,i,n){if(t){var s=this;this.cellEdit(e,function(e,t){s.cellEditDone(e,t,n,l,i)},n,l,i)}}}};