"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _utils=require("../utils/utils.js"),_utils2=_interopRequireDefault(_utils);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}exports.default={data:function(){return{resizeColumns:[],initTotalColumnsWidth:0,hasContainerWidth:!1}},methods:{getResizeColumns:function(){var t=[];this.internalColumns.forEach(function(e){e.isResize&&t.push({width:e.width,field:e.field})}),this.resizeColumns=t},initResizeColumns:function(){this.initTotalColumnsWidth=this.totalColumnsWidth,this.getResizeColumns()},tableResize:function(){if(!this.isHorizontalResize&&!this.isVerticalResize)return!1;var t=this,e=t.maxWidth,i=t.height&&t.height>0?t.height:this.getTotalColumnsHeight(),n=t.minWidth,l=t.minHeight,s=this.$el,o=_utils2.default.getViewportOffset(s),u="undefined"!==s.getBoundingClientRect?s.getBoundingClientRect().width:s.clientWidth+2,h="undefined"!==s.getBoundingClientRect?s.getBoundingClientRect().height:s.clientHeight+2,r=window.document.documentElement.clientWidth-u-o.left,d=window.document.documentElement.clientHeight-h-o.top-2;t.isVerticalResize&&t.internalHeight&&t.internalHeight>0&&h>0&&(((d-=t.VerticalResizeOffset)<0&&h>l||d>0&&h<i)&&(h=(h=(h=h+d)>i?i:h)<l?l:h,t.internalHeight=h));if(t.isHorizontalResize&&t.internalWidth&&t.internalWidth>0&&u>0){var a=this.$el.clientWidth;(r<=0&&a>n||r>=0&&a<e)&&(a=(a=a>e?e:a)<n?n:a,t.internalWidth=a,t.changeColumnsWidth(a))}},changeColumnsWidth:function(t){if(this.resizeColumns.length<=0)return!1;var e=t-2-this.totalColumnsWidth,i=this.initTotalColumnsWidth,n=this.$el.querySelector(".v-table-rightview .v-table-body");if(t<=i&&!this.isTableEmpty?n.style.overflowX="scroll":(this.getTotalColumnsHeight()>this.internalHeight&&(e-=_utils2.default.getScrollbarWidth()+1),n.style.overflowX="hidden"),t>=i||e>0){var l=e/this.resizeColumns.length;this.internalColumns.map(function(t){return t.isResize&&(t.width+=l),t})}}},mounted:function(){_utils2.default.bind(window,"resize",this.tableResize)},beforeDestroy:function(){_utils2.default.unbind(window,"resize",this.tableResize)}};