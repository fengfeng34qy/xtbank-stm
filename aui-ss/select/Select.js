"";Object.defineProperty(exports,"__esModule",{value:!0});var _common=require("../common"),_Vue=require("Vue"),_Vue2=_interopRequireDefault(_Vue);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default={render:function anonymous(){with(this)return _c("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:onSelectFocusOut,expression:"onSelectFocusOut"}],staticClass:"aui-select",class:[{"aui-select-focus":isFocus},{"aui-select-disabled":disabled}],on:{click:toggleOption}},[_c("div",{staticClass:"aui-select-box"},[_t("prepend"),_v(" "),_c("i",{staticClass:"aui-select__icon"},[_c("b",{class:{rem:isDown&&!disabled}})]),_v(" "),_c("input",{directives:[{name:"model",rawName:"v-model",value:label,expression:"label"}],staticClass:"aui-input",class:[{disabled:disabled},className],attrs:{type:"text",placeholder:placeholder,readOnly:!isSearch,disabled:disabled},domProps:{value:label},on:{blur:blur,focus:focus,input:[function(e){e.target.composing||(label=e.target.value)},query]}})],2),_v(" "),_c("transition",{attrs:{name:"fade"}},[isHas?_c("div",{directives:[{name:"show",rawName:"v-show",value:isDown,expression:"isDown"}],staticClass:"aui-option"},[_c("span",{staticClass:"aui-option-top-line"}),_v(" "),isHas?_c("ul",{staticClass:"aui-option-list",style:{maxHeight:maxHeight+"px"}},[_t("default"),_v(" "),isNone?_c("li",{staticClass:"aui-option__item"},[_v("无数据")]):_e()],2):_e()]):_e()])],1)},name:"aui-select",props:{name:String,placeholder:{type:String,default:"请选择"},disabled:{type:Boolean,default:!1},value:[String,Number],maxLines:{type:Number,default:5},size:{type:String,default:"normal"},isSearch:{type:Boolean,default:!1}},data:function(){return{label:"",isDown:!1,maxHeight:0,isHas:!0,labelList:[],brige:new _Vue2.default,isNone:!1,isFocus:!1}},directives:{clickoutside:_common.clickoutside},created:function(){var e=this;1==this.disabled&&(this.isDown=!1),this.$on("selectedItem",function(i){0==e.disabled&&(e.$emit("input",i.value),e.$emit("change",i.value),i.value===e.value&&(e.label=i.label))}),this.$on("optionCreated",function(i){e.labelList.push(i.label),i.value===e.value&&(i.selected=!0,e.label=i.label)})},methods:{focus:function(){this.isFocus=!0,this.$emit("focus")},blur:function(){this.isFocus=!1,this.$emit("blur")},onSelectFocusOut:function(){this.isDown=!1},toggleOption:function(){0==this.disabled&&(this.isDown=!this.isDown)},query:function(){var e=this,i=[];this.labelList.forEach(function(t){t.toLowerCase().includes(e.label)&&i.push(t)}),this.brige.$emit("queryList",i),this.isNone=0==i.length}},beforeUpdate:function(){var e=this;this.$nextTick(function(){e.maxHeight=$(".aui-option__item").outerHeight(!0)*e.maxLines+10})},watch:{value:function(e){var i="";this.$children.forEach(function(t){t.value===e?(t.selected=!0,i=t.label):t.selected=!1}),this.label=i}},computed:{className:function(){return this.isDown?"focus aui-select-"+this.size:"aui-select-"+this.size}}};