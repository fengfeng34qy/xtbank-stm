"";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={render:function anonymous(){with(this)return _c("div",{staticClass:"aui-counter-input",class:[sizeClass,{"is-disabled":disabled},{"is-focus":isFocus}]},[_c("span",{staticClass:"aui-input-number__decrease",class:[{"is-disabled":disabled},{"min-disabled":value===min}],on:{mousedown:touchstartDecrease,mouseup:touchendDecrease,mouseout:touchendDecrease,touchstart:touchstartDecrease,touchend:touchendDecrease,focusin:onFocusin,click:function(e){onClick(e,"decrease")}}},[_c("i",[_v("Â¯")])]),_v(" "),_c("span",{staticClass:"aui-input-number__increase",class:[{"is-disabled":disabled},{"max-disabled":value===max}],on:{mousedown:touchstartIncrease,mouseup:touchendIncrease,mouseout:touchendIncrease,touchstart:touchstartIncrease,touchend:touchendIncrease,focusin:onFocusin,click:function(e){onClick(e,"increase")}}},[_c("i",[_v("+")])]),_v(" "),_c("input",{staticClass:"aui-counter-input__inner",attrs:{disabled:disabled,max:max,min:min},domProps:{value:value},on:{input:handleInput,change:changeInput,blur:blur,focus:focus}})])},name:"aui-counter-input",props:{step:{type:Number,default:1},value:{default:0},disabled:{type:Boolean,default:!1},max:{type:Number,default:1/0},min:{type:Number,default:-1/0},size:{type:String,default:"normal"}},data:function(){return{precision:this.value,isFocus:!1,decreaseInterval:null,increaseInterval:null}},watch:{value:{immediate:!0,handler:function(e){var t=Number(e);isNaN(t)||(t>=this.max&&(t=this.max),t<=this.min&&(t=this.min),this.$emit("input",t))}}},mounted:function(){var e=this;this.$el.querySelector("input").onkeydown=function(t){var i=t||window.event||arguments.callee.caller.arguments[0],s=t.target.value;if(i&&i.key>="0"&&i.key<="9"||"Backspace"==i.key||"."==i.key||"ArrowLeft"==i.key||"ArrowRight"==i.key){if(("."==i.key&&-1!=s.indexOf(".")||""==s)&&"."==i.key&&i.preventDefault(),"Backspace"==i.key&&Object.defineProperty(i,"key",{value:""}),(s=s.split("")).splice(i.target.selectionStart,i.target.selectionEnd-i.target.selectionStart,i.key),-1!=(s=s.join("")).indexOf("."))s.split(".")[1].length>e.decimal&&((s=s.split("")).splice(i.target.selectionStart,1),s=s.join(""),"Backspace"!=i.key&&"ArrowLeft"!=i.key&&"ArrowRight"!=i.key&&i.preventDefault());if(0==i.target.selectionStart&&"."==i.key&&i.preventDefault(),s>e.max&&"Backspace"!=i.key&&"ArrowLeft"!=i.key&&"ArrowRight"!=i.key&&i.preventDefault(),-1!=s.indexOf(".")){var n=s.indexOf("."),a=s.split(".");a[0]+a[1]>e.max&&i.target.selectionStart==n+1&&"Backspace"==i.key&&i.preventDefault()}i.target.selectionStart!=i.target.selectionEnd&&"Backspace"==i.key&&i.preventDefault()}else i.preventDefault()},this.$options.onScrollHandler=this.onScroll.bind(this),document.addEventListener("scroll",this.$options.onScrollHandler)},destroyed:function(){document.removeEventListener("scroll",this.$options.onScrollHandler)},methods:{onScroll:function(){this.increaseInterval&&clearInterval(this.increaseInterval),this.decreaseInterval&&clearInterval(this.decreaseInterval)},onClick:function(e,t){e.stopPropagation(),"decrease"===t&&this.decrease(),"increase"===t&&this.increase()},onFocusin:function(e){e.stopPropagation()},touchstartDecrease:function(e){var t=this;this.decreaseInterval=setInterval(function(){t.decrease()},200)},touchendDecrease:function(){clearInterval(this.decreaseInterval)},touchstartIncrease:function(e){var t=this;this.increaseInterval=setInterval(function(){t.increase()},200),console.log("touchstartIncrease",this.increaseInterval)},touchendIncrease:function(){clearInterval(this.increaseInterval)},decrease:function(){1!=this.disabled&&(this.precision<=this.min?this.precision=this.min:(this.step?this.precision=this.precision-this.step:this.precision--,this.setCurrentValue(this.precision)))},increase:function(){1!=this.disabled&&(this.precision>=this.max?this.precision=this.max:(this.step?this.precision=this.precision+this.step:this.precision++,this.setCurrentValue(this.precision)))},setCurrentValue:function(e){this.$emit("change",e),this.$emit("input",e)},focus:function(){this.isFocus=!0},blur:function(){this.isFocus=!1},handleInput:function(e){var t=e.target.value;this.$emit("input",t),this.$emit("change",t)},changeInput:function(){this.precision=this.value}},computed:{sizeClass:function(){return"aui-counter-input-"+this.size}}};